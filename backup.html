<!DOCTYPE html>
<html lang="en" class="h-full">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Episode 3: Lists and Computed Properties</title>
		<script src="https://unpkg.com/vue@3"></script>
		<script src="https://cdn.tailwindcss.com"></script>
	</head>
	<body class="h-full grid place-items-center">
		<div id="app">
			<!-- v-show is basically display:none/display:block toggle -->
			<!-- v-if does not add anything to the DOM until loop criteria is met -->
			<!-- Generally speaking, v-if has higher toggle costs while v-show has higher initial render costs. So prefer v-show if you need to toggle something very often, and prefer v-if if the condition is unlikely to change at runtime.  -->
			<section v-show="inProgressAssignments.length" class="mb-8">
				<h2 class="font-bold mb-2">In progress</h2>
				<ul>
					<!-- Loop over assignements -->
					<!-- Filter down to only incompleted tasks and display them in In progress list -->
					<!-- Whenever you loop over something (with "for") you always need to add a key, it has to be unique to the current item, e.g coming from DB  -->
					<li v-for="assignment in inProgressAssignments" :key="assignment.id">
						<label>
							{{ assignment.name}}
							<input type="checkbox" v-model="assignment.complete" />
						</label>
					</li>
				</ul>
				<!-- Just to see that v-model input binding works -false turns true -->
				<!-- <pre>{{assignments}}}</pre> -->
			</section>
			<!-- Display the section only if there is a completed assignment -->
			<section v-show="completedAssignments.length">
				<h2 class="font-bold mb-2">Completed</h2>
				<ul>
					<!-- Loop over assignements -->
					<!-- Filter down to only completed tasks and display them in Assignments list -->
					<li v-for="assignment in completedAssignments" :key="assignment.id">
						<label>
							{{ assignment.name}}
							<input type="checkbox" v-model="assignment.complete" />
						</label>
					</li>
				</ul>
				<!-- Just to see that v-model input binding works -false turns true -->
				<!-- <pre>{{assignments}}}</pre> -->
			</section>
		</div>
		<script>
			// Initialize Vue
			const { createApp } = Vue;
			// My Components
			let app = {
				data() {
					return {
						assignments: [
							{ name: "Finish project", complete: false, id: 1 },
							{ name: "Read chapter 4", complete: false, id: 2 },
							{ name: "Turn in homework", complete: false, id: 3 },
						],
					};
				},
				// Computed properties - are great for DRY principle to prevent code duplications
				// Computed properties are sort of methods that can be cached
				// Unlike Vue methods: we use computed properties to change a presentation of existinf data, methods are used to chnge data itself
				// Unlike
				computed: {
					inProgressAssignments() {
						return this.assignments.filter(
							(assignment) => !assignment.complete
						);
					},
					completedAssignments() {
						return this.assignments.filter((assignment) => assignment.complete);
					},
				},
			};
			createApp(app).mount("#app");
		</script>
	</body>
</html>
